"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),cssElementQueries=require("css-element-queries"),PropTypes=require("prop-types");function styleInject(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var css='.spaces-centered-vertically {\r\n\tposition: relative;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n}\r\n\r\n.spaces-centered {\r\n\tposition: relative;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\ttext-align: center;\r\n}\r\n\r\n.spaces-clearfix:after {\r\n\tcontent: "";\r\n\tdisplay: table;\r\n\tclear: both;\r\n}\r\n\r\n.spaces-fixedsize-layout {\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n}\r\n\r\n.spaces-fullpage-layout {\r\n\tposition: fixed;\r\n\toverflow: hidden;\r\n}\r\n\r\n.spaces-resize-handle {\r\n\tposition: absolute;\r\n\tz-index: 9999;\r\n\tbackground: transparent;\r\n}\r\n\r\n.spaces-resize-handle:before {\r\n\tcontent: "";\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tz-index: 2;\r\n}\r\n\r\n.spaces-resize-handle:after {\r\n\tcontent: "";\r\n\tposition: absolute;\r\n\tz-index: 1;\r\n}\r\n\r\n.spaces-touch-handle {\r\n\tposition: absolute;\r\n\tz-index: 9998;\r\n\tpointer-events: all;\r\n\tbackground: transparent;\r\n}\r\n\r\n.spaces-resize-handle.resize-left {\r\n\ttop: 0;\r\n\tbottom: 0;\r\n}\r\n\r\n.spaces-resize-handle.resize-left:before {\r\n\tcursor: w-resize;\r\n}\r\n\r\n.spaces-touch-handle.resize-left {\r\n\ttop: 0;\r\n\tbottom: 0;\r\n}\r\n\r\n.spaces-resize-handle.resize-right {\r\n\ttop: 0;\r\n\tbottom: 0;\r\n}\r\n\r\n.spaces-resize-handle.resize-right:before {\r\n\tcursor: e-resize;\r\n}\r\n\r\n.spaces-touch-handle.resize-right {\r\n\ttop: 0;\r\n\tbottom: 0;\r\n}\r\n\r\n.spaces-resize-handle.resize-top {\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n\r\n.spaces-resize-handle.resize-top:before {\r\n\tcursor: n-resize;\r\n}\r\n\r\n.spaces-touch-handle.resize-top {\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n\r\n.spaces-resize-handle.resize-bottom {\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n\r\n.spaces-resize-handle.resize-bottom:before {\r\n\tcursor: s-resize;\r\n}\r\n\r\n.spaces-touch-handle.resize-bottom {\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n\r\n.spaces-space {\r\n\toverflow: hidden;\r\n\ttouch-action: none;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.spaces-resizing .spaces-space {\r\n\ttransition: none !important;\r\n}\r\n\r\n.spaces-space .spaces-space-inner {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.spaces-space.scrollable .spaces-space-inner,\r\n.spaces-space.scrollable-a {\r\n\toverflow: auto;\r\n\ttouch-action: auto;\r\n}\r\n';styleInject(css);var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Type,Orientation,ResizeType,__assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function __rest(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function shortuuid(){var e=46656*Math.random()|0,t=46656*Math.random()|0;return("000"+e.toString(36)).slice(-3)+("000"+t.toString(36)).slice(-3)}function getSizeString(e){return"string"==typeof e?e:e+"px"}function css$1(e,t){if(0===e.size&&0===e.adjusted.length&&0===e.resized)return"0px";var r=[];return void 0!==e.size&&r.push(getSizeString(e.size)),e.adjusted.forEach(function(e){return r.push(getSizeString(e))}),0!==e.resized&&r.push(getSizeString(e.resized)),0!==r.length?1===r.length?r[0]:t?r.join(" + "):"calc("+r.join(" + ")+")":void 0}function coalesce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.find(function(e){return null!=e})}function adjustmentsEqual(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function throttle(r,n){var o=!1;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o||(r.apply(void 0,e),o=!0,setTimeout(function(){o=!1},n))}}function styleDefinition(e){var t=[],r=e.position,n=css$1(e.left),o=css$1(e.top),i=css$1(e.right),s=css$1(e.bottom),a=css$1(e.width),p=css$1(e.height),c=e.zIndex,u=[];r&&u.push("position: "+r+";"),n&&u.push("left: "+n+";"),o&&u.push("top: "+o+";"),i&&u.push("right: "+i+";"),s&&u.push("bottom: "+s+";"),a&&u.push("width: "+a+";"),p&&u.push("height: "+p+";"),c&&u.push("z-index: "+c+";"),0<u.length&&t.push("#"+e.id+" { "+u.join(" ")+" }"),e.scrollable&&t.push("#"+e.id+" > .spaces-space-inner { overflow: auto; touch-action: auto; }");var l=0,h=e.touchHandleSize/2-e.handleSize/2;switch(e.handlePlacement){case exports.ResizeHandlePlacement.Inside:case exports.ResizeHandlePlacement.OverlayInside:l=e.handleSize;break;case exports.ResizeHandlePlacement.OverlayBoundary:l=e.handleSize/2}return e.canResizeLeft&&(t.push("#"+e.id+"-m { left: calc("+css$1(e.left,!0)+" + "+css$1(e.width,!0)+" - "+l+"px); width: "+e.handleSize+"px; }"),t.push("#"+e.id+"-m:after { left: -"+h+"px; right: -"+h+"px; top: 0; bottom: 0; }")),e.canResizeTop&&(t.push("#"+e.id+"-m { top: calc("+css$1(e.top,!0)+" + "+css$1(e.height,!0)+" - "+l+"px); height: "+e.handleSize+"px; }"),t.push("#"+e.id+"-m:after { top: -"+h+"px; bottom: -"+h+"px; left: 0; right: 0; }")),e.canResizeRight&&(t.push("#"+e.id+"-m { right: calc("+css$1(e.right,!0)+" + "+css$1(e.width,!0)+" - "+l+"px); width: "+e.handleSize+"px; }"),t.push("#"+e.id+"-m:after { left: -"+h+"px; right: -"+h+"px; top: 0; bottom: 0; }")),e.canResizeBottom&&(t.push("#"+e.id+"-m { bottom: calc("+css$1(e.bottom,!0)+" + "+css$1(e.height,!0)+" - "+l+"px); height: "+e.handleSize+"px; }"),t.push("#"+e.id+"-m:after { top: -"+h+"px; bottom: -"+h+"px; left: 0; right: 0; }")),t.join(" ")}function updateStyleDefinition(e){var t=styleDefinition(e),r=document.getElementById("style_"+e.id);if(r)r.innerHTML!==t&&(r.innerHTML=t);else{var n=document.createElement("style");n.id="style_"+e.id,n.innerHTML=t,document.head.appendChild(n)}}function removeStyleDefinition(e){var t=document.getElementById("style_"+e.id);t&&document.head.removeChild(t)}!function(e){e.ViewPort="viewport",e.Fixed="fixed",e.Fill="fill",e.Positioned="positioned",e.Anchored="anchored",e.Custom="custom"}(Type=Type||{}),function(e){e.Left="anchor-left",e.Right="anchor-right",e.Top="anchor-top",e.Bottom="anchor-bottom"}(exports.AnchorType||(exports.AnchorType={})),function(e){e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical"}(Orientation=Orientation||{}),function(e){e.Left="resize-left",e.Right="resize-right",e.Top="resize-top",e.Bottom="resize-bottom",e.NW="resize-nw",e.NE="resize-ne",e.SW="resize-sw",e.SE="resize-se"}(ResizeType=ResizeType||{}),function(e){e.OverlayInside="overlay-inside",e.Inside="inside",e.OverlayBoundary="overlay-boundary"}(exports.ResizeHandlePlacement||(exports.ResizeHandlePlacement={})),function(e){e.None="none",e.Vertical="vertical",e.HorizontalVertical="horizontalVertical"}(exports.CenterType||(exports.CenterType={}));var MoveEvent,EndEvent,RESIZE_THROTTLE=0;function createResize(b){return{startResize:function(d,e,f,y,t,r,n){if(f.onResizeStart){var o=f.onResizeStart();if("boolean"==typeof o&&!o)return}var z=n(e);f.resizing=!0,f.updateParent();function i(e,t){return r=f,n=y,o=d,i=m,s=z.x,a=z.y,p=e,c=t,u=T,l=g,(h=i+(r.orientation===Orientation.Horizontal?o===ResizeType.Left?s-p:p-s:o===ResizeType.Top?a-c:c-a))<u?h=u:l&&l<h&&(h=l),void(h!==n.resized&&(n.resized=h,b.updateStyles(r)));var r,n,o,i,s,a,p,c,u,l,h}function s(e){l=!0;var t=n(e);c=t.x,u=t.y,e.preventDefault(),throttle(function(e,t){return window.requestAnimationFrame(function(){return i(e,t)})},RESIZE_THROTTLE)(c,u)}var a=f.element.getBoundingClientRect(),p=f.orientation===Orientation.Horizontal?a.width:a.height,m=y.resized,T=coalesce(f.minimumSize,20)-p+y.resized,g=f.maximumSize?f.maximumSize-p+y.resized:void 0,c=0,u=0,l=!1,h=function(){if(l&&i(c,u),window.removeEventListener(r,s),window.removeEventListener(t,h),f.resizing=!1,f.updateParent(),f.onResizeEnd){var e=f.element.getBoundingClientRect();f.onResizeEnd(Math.floor(d===ResizeType.Left||d===ResizeType.Right?e.width:e.height),e)}};window.addEventListener(r,s),window.addEventListener(t,h)}}}!function(e){e.Mouse="mousemove",e.Touch="touchmove"}(MoveEvent=MoveEvent||{}),function(e){e.Mouse="mouseup",e.Touch="touchend"}(EndEvent=EndEvent||{});var spaceDefaults={id:"",zIndex:0,scrollable:!1,resizing:!1,centerContent:"none",dimension:{left:0,top:0,right:0,bottom:0,width:0,height:0,x:0,y:0,toJSON:function(){return""}},handleSize:5,touchHandleSize:5,handlePlacement:exports.ResizeHandlePlacement.OverlayInside,adjustLeft:function(){return!1},adjustRight:function(){return!1},adjustTop:function(){return!1},adjustBottom:function(){return!1},adjustEdge:function(){return!1},anchoredChildren:function(){return[]}},anchorTypes=[exports.AnchorType.Left,exports.AnchorType.Top,exports.AnchorType.Right,exports.AnchorType.Bottom];function getPosition(e){return e===Type.ViewPort?"fixed":e===Type.Fixed?"relative":"absolute"}function getOrientation(e){return e===exports.AnchorType.Bottom||e===exports.AnchorType.Top?Orientation.Vertical:Orientation.Horizontal}function anchorUpdates(e){return[{anchor:exports.AnchorType.Left,update:e.adjustLeft},{anchor:exports.AnchorType.Top,update:e.adjustTop},{anchor:exports.AnchorType.Right,update:e.adjustRight},{anchor:exports.AnchorType.Bottom,update:e.adjustBottom}]}function sizeInfoDefault(e){return{size:e,adjusted:[],resized:0}}function createStore(){function b(t){return o().find(function(e){return e.id===t})}function R(o){for(var e,s,r=function(e,t,r){return r.indexOf(e)===t},i=(e=o.children,s=[],anchorTypes.forEach(function(t){var i=e.filter(function(e){return void 0!==e.anchor&&e.anchor===t});i.map(function(e){return e.zIndex}).filter(r).forEach(function(t){var e=i.filter(function(e){return e.zIndex===t}),r=e.filter(function(e){return void 0!==e.order}),n=e.filter(function(e){return void 0===e.order}),o=0<r.length?r.map(function(e){return e.order}).reduce(function(e,t){return Math.max(e,t)}):0;s=__spreadArrays(s,__spreadArrays(r,n.map(function(e,t){return __assign(__assign({},e),{order:o+t+1})})))})}),__spreadArrays(s,e.filter(function(e){return void 0===e.anchor}))),t=function(){var r=i[a],n=!1;if(r.type===Type.Fill)anchorUpdates(r).forEach(function(e){var t=[];o.anchoredChildren(i,e.anchor,r.zIndex).forEach(function(e){e.orientation===Orientation.Vertical?(e.height.size&&t.push(e.height.size),e.height.resized&&t.push(e.height.resized)):(e.width.size&&t.push(e.width.size),e.width.resized&&t.push(e.width.resized))}),e.update(t)&&(n=!0)});else if(r.type===Type.Anchored){var t=[];o.anchoredChildren(i,r.anchor,r.zIndex).filter(function(e){return e.id!==r.id&&e.order<=r.order}).forEach(function(e){e.orientation===Orientation.Vertical?(e.height.size&&t.push(e.height.size),e.height.resized&&t.push(e.height.resized)):(e.width.size&&t.push(e.width.size),e.width.resized&&t.push(e.width.resized))}),r.adjustEdge(t)&&(n=!0)}n&&updateStyleDefinition(r)},a=0,n=i.length;a<n;a++)t()}var n=[],o=function(){return n},h={getSpaces:o,getSpace:b,addSpace:function(e){if(o().push(e),e.parentId){var t=b(e.parentId);t&&(t.children.push(e),R(t))}updateStyleDefinition(e)},removeSpace:function(t){var e;if(e=o().filter(function(e){return e.id!==t.id}),n=e,t.parentId){var r=b(t.parentId);r&&(r.children=r.children.filter(function(e){return e.id!==t.id}),R(r))}removeStyleDefinition(t)},updateStyles:function(e){if(e.parentId){var t=b(e.parentId);t&&R(t)}updateStyleDefinition(e)},updateSpace:function(e,t){var r=t.type,n=t.anchor,o=t.order,i=t.zIndex,s=t.scrollable,a=t.position,p=t.centerContent,c=t.minimumSize,u=t.maximumSize,l=t.handleSize,h=t.touchHandleSize,d=t.handlePlacement,f=a&&a.rightResizable||!1,y=a&&a.leftResizable||!1,z=a&&a.bottomResizable||!1,m=a&&a.topResizable||!1,T=!1;if(e.type!==r&&(e.type=r,e.position=getPosition(r),T=!0),e.anchor!==n&&(e.anchor=n,e.orientation=getOrientation(n),T=!0,r===Type.Anchored&&(n===exports.AnchorType.Left?e.adjustEdge=e.adjustLeft:n===exports.AnchorType.Top?e.adjustEdge=e.adjustTop:n===exports.AnchorType.Right?e.adjustEdge=e.adjustRight:n===exports.AnchorType.Bottom&&(e.adjustEdge=e.adjustBottom))),e.left.size!==(a&&a.left)&&(e.left.size=a&&a.left,T=!(e.left.resized=0)),e.right.size!==(a&&a.right)&&(e.right.size=a&&a.right,T=!(e.right.resized=0)),e.top.size!==(a&&a.top)&&(e.top.size=a&&a.top,T=!(e.top.resized=0)),e.bottom.size!==(a&&a.bottom)&&(e.bottom.size=a&&a.bottom,T=!(e.bottom.resized=0)),e.width.size!==(a&&a.width)&&(e.width.size=a&&a.width,T=!(e.width.resized=0)),e.height.size!==(a&&a.height)&&(e.height.size=a&&a.height,T=!(e.height.resized=0)),coalesce(e.order,0)!==coalesce(o,0)&&(e.order=coalesce(o,0),T=!0),coalesce(e.zIndex,0)!==coalesce(i,0)&&(e.zIndex=coalesce(i,0),T=!0),coalesce(e.scrollable,!1)!==coalesce(s,!1)&&(e.scrollable=coalesce(s,!1),T=!0),e.minimumSize!==c&&(e.minimumSize=c,T=!0),e.maximumSize!==u&&(e.maximumSize=u,T=!0),coalesce(e.centerContent,exports.CenterType.None)!==coalesce(p,exports.CenterType.None)&&(e.centerContent=coalesce(p,exports.CenterType.None),T=!0),e.handleSize!==l&&(e.handleSize=l||spaceDefaults.handleSize,T=!0),e.touchHandleSize!==h&&(e.touchHandleSize=h||spaceDefaults.touchHandleSize,T=!0),e.handlePlacement!==d&&(e.handlePlacement=d||spaceDefaults.handlePlacement,T=!0),e.canResizeBottom!==m&&(e.canResizeBottom=m,T=!0),e.canResizeTop!==z&&(e.canResizeTop=z,T=!0),e.canResizeLeft!==f&&(e.canResizeLeft=f,T=!0),e.canResizeRight!==y&&(e.canResizeRight=y,T=!0),T){if(e.parentId){var g=b(e.parentId);g&&R(g)}updateStyleDefinition(e)}},createSpace:function(){return{}},startMouseResize:function(){return null},startTouchResize:function(){return null}},i=createResize(h);return h.createSpace=function(t,e,r){var n=e.position,o=e.anchor,i=e.type,s=__rest(e,["position","anchor","type"]),a=n&&n.rightResizable||!1,p=n&&n.leftResizable||!1,c=n&&n.bottomResizable||!1,u=n&&n.topResizable||!1,l=__assign(__assign(__assign({},spaceDefaults),s),{store:h,update:r,updateParent:function(){if(t){var e=h.getSpace(t);e&&e.update()}},parentId:t,children:[],anchor:o,type:i,orientation:getOrientation(o),position:getPosition(i),left:sizeInfoDefault(n&&n.left),right:sizeInfoDefault(n&&n.right),top:sizeInfoDefault(n&&n.top),bottom:sizeInfoDefault(n&&n.bottom),width:sizeInfoDefault(n&&n.width),height:sizeInfoDefault(n&&n.height),canResizeLeft:a,canResizeRight:p,canResizeTop:c,canResizeBottom:u});return l.anchoredChildren=function(e,t,r){return e.filter(function(e){return e.type===Type.Anchored&&e.anchor===t&&e.zIndex===r})},l.adjustLeft=function(e){return!adjustmentsEqual(l.left.adjusted,e)&&(l.left.adjusted=e,!0)},l.adjustRight=function(e){return!adjustmentsEqual(l.right.adjusted,e)&&(l.right.adjusted=e,!0)},l.adjustTop=function(e){return!adjustmentsEqual(l.top.adjusted,e)&&(l.top.adjusted=e,!0)},l.adjustBottom=function(e){return!adjustmentsEqual(l.bottom.adjusted,e)&&(l.bottom.adjusted=e,!0)},i===Type.Anchored&&(o===exports.AnchorType.Left?l.adjustEdge=l.adjustLeft:o===exports.AnchorType.Top?l.adjustEdge=l.adjustTop:o===exports.AnchorType.Right?l.adjustEdge=l.adjustRight:o===exports.AnchorType.Bottom&&(l.adjustEdge=l.adjustBottom)),l},h.startMouseResize=function(e,t,r,n){i.startResize(e,n,t,r,EndEvent.Mouse,MoveEvent.Mouse,function(e){return{x:e.clientX,y:e.clientY}})},h.startTouchResize=function(e,t,r,n){i.startResize(e,n,t,r,EndEvent.Touch,MoveEvent.Touch,function(e){return{x:e.touches[0].clientX,y:e.touches[0].clientY}})},h}var ParentContext=React.createContext(void 0),DOMRectContext=React.createContext(void 0),LayerContext=React.createContext(void 0),OptionsContext=React.createContext({}),currentStore=createStore(),commonProps={id:PropTypes.string,className:PropTypes.string,style:PropTypes.oneOfType([PropTypes.object,PropTypes.array]),as:PropTypes.string,centerContent:PropTypes.oneOf([exports.CenterType.None,exports.CenterType.Vertical,exports.CenterType.HorizontalVertical]),zIndex:PropTypes.number,scrollable:PropTypes.bool,trackSize:PropTypes.bool,onClick:PropTypes.func,onMouseDown:PropTypes.func,onMouseEnter:PropTypes.func,onMouseLeave:PropTypes.func,onMouseMove:PropTypes.func,onTouchStart:PropTypes.func,onTouchMove:PropTypes.func,onTouchEnd:PropTypes.func};function useForceUpdate(){var e=React.useState(0)[1];return React.useCallback(function(){e(function(e){return e+1})},[])}function useSpace(e){var r=currentStore,t=useForceUpdate(),n=React.useContext(ParentContext),o=React.useContext(LayerContext),i=React.useContext(OptionsContext).debug,s=React.useState(e.id||"s"+shortuuid())[0],a=React.useRef(),p=React.useRef(),c=React.useState(),u=c[0],l=c[1],h=r.getSpace(s);i&&console.table(r.getSpaces());var d=__assign(__assign({},e),{id:s,zIndex:coalesce(e.zIndex,o)});h?r.updateSpace(h,d):(h=r.createSpace(n,d,t),r.addSpace(h));var f=useSpaceResizeHandles(r,h,e.position);return React.useEffect(function(){var t=a.current.getBoundingClientRect();return h.dimension=__assign(__assign({},t),{left:Math.floor(t.left),top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),width:Math.floor(t.width),height:Math.floor(t.height),x:Math.floor(t.x),y:Math.floor(t.y)}),l(h.dimension),e.trackSize&&(p.current=new cssElementQueries.ResizeSensor(a.current,function(e){h.dimension=__assign(__assign({},t),{width:Math.floor(e.width),height:Math.floor(e.height)}),l(h.dimension)})),function(){p.current&&p.current.detach(),r.removeSpace(h)}},[]),{space:h,resizeHandles:f,domRect:u,elementRef:a}}function useSpaceResizeHandles(t,r,e){var n=[];return e&&e.rightResizable&&n.push({id:r.id+"-m",key:"right",className:"spaces-resize-handle resize-right",onMouseDown:function(e){return t.startMouseResize(ResizeType.Right,r,r.width,e)},onTouchStart:function(e){return t.startTouchResize(ResizeType.Right,r,r.width,e)}}),e&&e.leftResizable&&n.push({id:r.id+"-m",key:"left",className:"spaces-resize-handle resize-left",onMouseDown:function(e){return t.startMouseResize(ResizeType.Left,r,r.width,e)},onTouchStart:function(e){return t.startTouchResize(ResizeType.Left,r,r.width,e)}}),e&&e.topResizable&&n.push({id:r.id+"-m",key:"top",className:"spaces-resize-handle resize-top",onMouseDown:function(e){return t.startMouseResize(ResizeType.Top,r,r.height,e)},onTouchStart:function(e){return t.startTouchResize(ResizeType.Top,r,r.height,e)}}),e&&e.bottomResizable&&n.push({id:r.id+"-m",key:"bottom",className:"spaces-resize-handle resize-bottom",onMouseDown:function(e){return t.startMouseResize(ResizeType.Bottom,r,r.height,e)},onTouchStart:function(e){return t.startTouchResize(ResizeType.Bottom,r,r.height,e)}}),{mouseHandles:n}}var Centered=function(e){return React.createElement("div",{className:"spaces-centered"},e.children)},CenteredVertically=function(e){return React.createElement("div",{className:"spaces-centered-vertically"},e.children)};function applyCentering(e,t){switch(t){case exports.CenterType.Vertical:return React.createElement(CenteredVertically,null,e);case exports.CenterType.HorizontalVertical:return React.createElement(Centered,null,e)}return e}var Space=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return React.createElement(SpaceInner,__assign({},this.props,{wrapperInstance:this}))},t}(React.Component),SpaceInner=function(e){e.id||e.wrapperInstance._react_spaces_uniqueid||(e.wrapperInstance._react_spaces_uniqueid="s"+shortuuid());var t=e.style,r=e.className,n=e.onClick,o=e.onDoubleClick,i=e.onMouseDown,s=e.onMouseEnter,a=e.onMouseLeave,p=e.onMouseMove,c=e.onTouchStart,u=e.onTouchMove,l=e.onTouchEnd,h=e.children,d={onClick:n,onDoubleClick:o,onMouseDown:i,onMouseEnter:s,onMouseLeave:a,onMouseMove:p,onTouchStart:c,onTouchMove:u,onTouchEnd:l},f=useSpace(__assign(__assign({},e),{id:e.id||e.wrapperInstance._react_spaces_uniqueid})),y=f.space,z=f.domRect,m=f.elementRef,T=f.resizeHandles;React.useEffect(function(){y.element=m.current},[]);var g=r?r.split(" ").map(function(e){return e.trim()}):[],b=__spreadArrays(["spaces-space",y.children.find(function(e){return e.resizing})?"spaces-resizing":void 0],g.map(function(e){return e+"-container"})).filter(function(e){return e}),R=__spreadArrays(["spaces-space-inner"],g),v=t;y.handlePlacement===exports.ResizeHandlePlacement.Inside&&(v=__assign(__assign({},t),{left:y.anchor===exports.AnchorType.Right?y.handleSize:void 0,right:y.anchor===exports.AnchorType.Left?y.handleSize:void 0,top:y.anchor===exports.AnchorType.Bottom?y.handleSize:void 0,bottom:y.anchor===exports.AnchorType.Top?y.handleSize:void 0}));var P=applyCentering(h,e.centerContent);return React.createElement(React.Fragment,null,T.mouseHandles.map(function(e){return React.createElement("div",__assign({},e))}),React.createElement(e.as||"div",__assign({id:y.id,ref:m,className:b.join(" ")},d),React.createElement("div",{className:R.join(" "),style:v},React.createElement(ParentContext.Provider,{value:y.id},React.createElement(LayerContext.Provider,{value:void 0},React.createElement(DOMRectContext.Provider,{value:z},P))))))},anchoredProps=__assign(__assign({},commonProps),{size:PropTypes.oneOfType([PropTypes.string,PropTypes.number]).isRequired,order:PropTypes.number,resizable:PropTypes.bool,handleSize:PropTypes.number,handlePlacement:PropTypes.oneOf([exports.ResizeHandlePlacement.Inside,exports.ResizeHandlePlacement.OverlayBoundary,exports.ResizeHandlePlacement.OverlayInside]),minimumSize:PropTypes.number,maximumSize:PropTypes.number,onResizeStart:PropTypes.func,onResizeEnd:PropTypes.func}),resizableProps=__assign(__assign({},commonProps),{size:PropTypes.oneOfType([PropTypes.string,PropTypes.number]).isRequired,order:PropTypes.number,handleSize:PropTypes.number,handlePlacement:PropTypes.oneOf([exports.ResizeHandlePlacement.Inside,exports.ResizeHandlePlacement.OverlayBoundary,exports.ResizeHandlePlacement.OverlayInside]),minimumSize:PropTypes.number,maximumSize:PropTypes.number,onResizeStart:PropTypes.func,onResizeEnd:PropTypes.func}),LeftResizable=function(e){var t=e.children,r=e.size,n=__rest(e,["children","size"]);return React.createElement(Space,__assign({},n,{type:Type.Anchored,anchor:exports.AnchorType.Left,position:{left:0,top:0,bottom:0,rightResizable:!0,width:r}}),t)};LeftResizable.propTypes=resizableProps;var Left=function(e){var t=e.size,r=e.children,n=e.resizable,o=__rest(e,["size","children","resizable"]);return React.createElement(Space,__assign({},o,{type:Type.Anchored,anchor:exports.AnchorType.Left,position:{left:0,top:0,bottom:0,rightResizable:n,width:t}}),r)};Left.propTypes=anchoredProps;var TopResizable=function(e){var t=e.children,r=e.size,n=__rest(e,["children","size"]);return React.createElement(Space,__assign({},n,{type:Type.Anchored,anchor:exports.AnchorType.Top,position:{left:0,top:0,right:0,bottomResizable:!0,height:r}}),t)};TopResizable.propTypes=resizableProps;var Top=function(e){var t=e.size,r=e.children,n=e.resizable,o=__rest(e,["size","children","resizable"]);return React.createElement(Space,__assign({},o,{type:Type.Anchored,anchor:exports.AnchorType.Top,position:{left:0,top:0,right:0,bottomResizable:n,height:t}}),r)};Top.propTypes=anchoredProps;var RightResizable=function(e){var t=e.children,r=e.size,n=__rest(e,["children","size"]);return React.createElement(Space,__assign({},n,{type:Type.Anchored,anchor:exports.AnchorType.Right,position:{bottom:0,top:0,right:0,leftResizable:!0,width:r}}),t)};RightResizable.propTypes=resizableProps;var Right=function(e){var t=e.size,r=e.children,n=e.resizable,o=__rest(e,["size","children","resizable"]);return React.createElement(Space,__assign({},o,{type:Type.Anchored,anchor:exports.AnchorType.Right,position:{bottom:0,top:0,right:0,leftResizable:n,width:t}}),r)};Right.propTypes=anchoredProps;var BottomResizable=function(e){var t=e.children,r=e.size,n=__rest(e,["children","size"]);return React.createElement(Space,__assign({},n,{type:Type.Anchored,anchor:exports.AnchorType.Bottom,position:{bottom:0,left:0,right:0,topResizable:!0,height:r}}),t)};BottomResizable.propTypes=resizableProps;var Bottom=function(e){var t=e.size,r=e.children,n=e.resizable,o=__rest(e,["size","children","resizable"]);return React.createElement(Space,__assign({},o,{type:Type.Anchored,anchor:exports.AnchorType.Bottom,position:{bottom:0,left:0,right:0,topResizable:n,height:t}}),r)};Bottom.propTypes=anchoredProps;var Custom=function(e){var t,r=e.children,n=e.left,o=e.top,i=e.right,s=e.bottom,a=e.width,p=e.height,c=e.anchorSize,u=e.anchor,l=e.isPositioned,h=e.resizable,d=__rest(e,["children","left","top","right","bottom","width","height","anchorSize","anchor","isPositioned","resizable"]),f=Type.Positioned;return l?t={left:n,top:o,right:i,bottom:s,width:a,height:p}:f=u===exports.AnchorType.Left?(t={left:0,top:0,bottom:0,width:c,right:void 0,rightResizable:h},Type.Anchored):u===exports.AnchorType.Right?(t={right:0,top:0,bottom:0,width:c,left:void 0,leftResizable:h},Type.Anchored):u===exports.AnchorType.Top?(t={left:0,top:0,right:0,height:c,bottom:void 0,bottomResizable:h},Type.Anchored):u===exports.AnchorType.Bottom?(t={left:0,bottom:0,right:0,height:c,top:void 0,topResizable:h},Type.Anchored):(t={left:0,top:0,bottom:0,right:0,width:void 0,height:void 0},Type.Fill),React.createElement(Space,__assign({},d,{type:f,anchor:u,position:t}),r)};Custom.propTypes=__assign(__assign({},commonProps),{left:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),top:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),right:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),bottom:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),height:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),isPositioned:PropTypes.bool,anchor:PropTypes.oneOf([exports.AnchorType.Left,exports.AnchorType.Top,exports.AnchorType.Right,exports.AnchorType.Bottom]),anchorSize:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),resizable:PropTypes.bool,handleSize:PropTypes.number,minimumSize:PropTypes.number,maximumSize:PropTypes.number,onResizeStart:PropTypes.func,onResizeEnd:PropTypes.func});var Fill=function(e){return React.createElement(Space,__assign({},e,{type:Type.Fill,position:{left:0,top:0,right:0,bottom:0}}),e.children)};Fill.propTypes=commonProps;var Fixed=function(e){var t=e.width,r=e.height,n=e.children,o=__rest(e,["width","height","children"]);return React.createElement(Space,__assign({},o,{type:Type.Fixed,position:{width:t,height:r}}),n)};Fixed.propTypes=__assign(__assign({},commonProps),{width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),height:PropTypes.oneOfType([PropTypes.string,PropTypes.number]).isRequired});var Layer=function(e){return React.createElement(LayerContext.Provider,{value:e.zIndex},e.children)};Layer.propTypes={zIndex:PropTypes.number.isRequired};var Positioned=function(e){var t=e.left,r=e.top,n=e.right,o=e.bottom,i=e.width,s=e.height,a=(e.resizable,__rest(e,["left","top","right","bottom","width","height","resizable"]));return React.createElement(Space,__assign({},a,{type:Type.Positioned,position:{left:t,top:r,right:n,bottom:o,width:i,height:s}}),a.children)};Positioned.propTypes=__assign(__assign({},commonProps),{left:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),top:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),right:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),bottom:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),height:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),resizable:PropTypes.bool});var Info=function(e){var t=React.useContext(DOMRectContext);return t?e.children(t):e.children({left:0,top:0,right:0,bottom:0,width:0,height:0,x:0,y:0,toJSON:function(){return""}})},ViewPort=function(e){var t=e.left,r=e.top,n=e.right,o=e.bottom,i=e.children,s=__rest(e,["left","top","right","bottom","children"]);return React.createElement(Space,__assign({},s,{type:Type.ViewPort,position:{left:t||0,top:r||0,right:n||0,bottom:o||0}}),i)};ViewPort.propTypes=__assign(__assign({},commonProps),{left:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),top:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),right:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),bottom:PropTypes.oneOfType([PropTypes.string,PropTypes.number])});var Options=function(e){var t=e.children,r=__rest(e,["children"]);return React.createElement(OptionsContext.Provider,{value:r},t)};exports.Bottom=Bottom,exports.BottomResizable=BottomResizable,exports.Centered=Centered,exports.CenteredVertically=CenteredVertically,exports.Custom=Custom,exports.Fill=Fill,exports.Fixed=Fixed,exports.Info=Info,exports.Layer=Layer,exports.Left=Left,exports.LeftResizable=LeftResizable,exports.Options=Options,exports.Positioned=Positioned,exports.Right=Right,exports.RightResizable=RightResizable,exports.Top=Top,exports.TopResizable=TopResizable,exports.ViewPort=ViewPort,exports.anchoredProps=anchoredProps,exports.resizableProps=resizableProps;
//# sourceMappingURL=index.js.map
